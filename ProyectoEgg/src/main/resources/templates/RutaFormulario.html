<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
    />
    <title>Ruta - Formulario</title>
  </head>
  <body>
    <nav th:replace="fragments :: navbar"></nav>

    <div class="container mt-5 main">
      <h1 th:text="${title}"></h1>
      <hr />
      <form
        id="formulario"
        class="needs-validation"
        th:action="@{/rutas/__${action}__}"
        method="POST"
        th:object="${rutas}"
        autocomplete="off"
        novalidate
      >
        <input type="hidden" th:field="*{id}" />

        <div class="form-floating mb-3 col-x1-6">
          <input
            id="departamento"
            class="form-control"
            type="text"
            placeholder="Departamento"
            th:field="*{departamento}"
            required
          />
          <label for="departamento">Departamento</label>
          <div class="invalid-feedback">El departamento es obligatorio</div>
        </div>

        <div class="form-floating mb-3 col-x1-6">
          <input
            id="fecha"
            class="form-control"
            type="date"
            th:field="*{fecha}"
            required
          />
          <label for="fecha">Fecha de la Ruta</label>
          <div class="invalid-feedback">La Fecha de la ruta es obligatoria</div>
        </div>

        <div class="form-floating mb-3 col-x1-6">
          <input
            id="cantidadClasificadores"
            class="form-control"
            type="number"
            placeholder="Cantidad de Clasificadores"
            th:field="*{cantidadClasificadores}"
            required
          />
          <label for="cantidadClasificadores"
            >Cantiad de Clasificadores en la Ruta</label
          >
          <div class="invalid-feedback">
            La cantidad de Clasificadores debe ser un numero
          </div>
        </div>

        <div class="form-floating mb-3 col-x1-6">
          <input
            id="valorRuta"
            class="form-control"
            type="number"
            placeholder="Valor de la Ruta"
            th:field="*{valorRuta}"
            required
          />
          <label for="valorRuta">Valor de la Ruta</label>
          <div class="invalid-feedback">Debe ingresar un valor a la ruta</div>
        </div>

        <div class="form-floating mb-3 col-xl-6">
          <select
            id="form-label select-label"
            class="form-select"
            aria-label="Elegir recuperadores"
            th:field="*{recuperador}"
          >
            <option value="" selected>Elegir Recuperador</option>
            <option
              th:each="recuperador : ${recuperadores}"
              th:text="${recuperador.nombre + ' ' + recuperador.apellido}"
              th:value="${recuperador.dni}"
            ></option>
          </select>
          <label class="form-label select-label"></label>
        </div>

        <div class="row">
          <button
            class="btn btn-success"
            type="submit"
            th:text="${action == 'guardar'} ? 'Crear Ruta' : 'Guardar cambios'"
          ></button>
        </div>
      </form>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>

    <script
      type="application/javascript"
      th:src="@{/js/bootstrap-multiselect.js}"
    ></script>
    <link
      rel="stylesheet"
      th:href="@{/css/bootstrap-multiselect.css}"
      type="text/css"
    />
  </body>
</html>
